<div class="page">
  <div class="card">
    <div class="icon-wrap" aria-hidden="true">
      <span class="icon">→</span>
    </div>

    <h1 class="title">Login</h1>
    <p class="subtitle">Entre com suas credenciais para acessar sua conta</p>

    <form [formGroup]="form" (ngSubmit)="onSubmit()" novalidate>

      <label class="label" for="email">Email</label>
      <input
        id="email"
        type="email"
        class="input"
        placeholder="seuemail@.com"
        formControlName="email"
        autocomplete="email"
      />
      @if (submitted && f.email.invalid) {
        <small class="error">Informe um email válido.</small>
      }

      <label class="label" for="senha">Senha</label>
      <div class="input-wrap">
        <input
          id="senha"
          [type]="showPassword ? 'text' : 'password'"
          class="input"
          placeholder="••••••••"
          formControlName="password"
          autocomplete="current-password"
        />
        <button type="button" class="toggle-btn" (click)="togglePassword()">
          @if (!showPassword) {
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b6f7b" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
              <circle cx="12" cy="12" r="3"/>
            </svg>
          } @else {
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="#6b6f7b" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94"/>
              <path d="M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19"/>
              <line x1="1" y1="1" x2="23" y2="23"/>
            </svg>
          }
        </button>
      </div>
      @if (submitted && f.password.invalid) {
        <small class="error">A senha é obrigatória.</small>
      }

      <div class="row">
        <label class="remember">
          <input type="checkbox" formControlName="remember" />
          <span>Lembrar-me</span>
        </label>
        <a class="link" href="#" (click)="onForgotPassword($event)">Esqueceu a senha?</a>
      </div>

      <button class="btn" type="submit" [disabled]="loading">
        @if (loading) { Entrando... } @else { Entrar }
      </button>

    </form>

    <p class="footer">
      Não tem uma conta?
      <a class="link" href="#" (click)="onCreateAccount($event)">Criar conta</a>
    </p>
  </div>
</div>